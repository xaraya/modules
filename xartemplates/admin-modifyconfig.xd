<div class="xar-mod-head">
    <span class="xar-mod-title">
        <xar:mlstring>Navigator Administration</xar:mlstring>
    </span>
</div>

<div class="xar-mod-body">
    <h2>
        <xar:mlstring>Modify Navigator Configuration</xar:mlstring>
    </h2>
    <div style="margin: auto;">

        <form method="post" action="#xarModUrl('navigator', 'admin', 'updateconfig')#">
            <input type="hidden" name="authid" value="#$authid#"/>
            <p>
                <strong><xar:mlstring>Use Category Matrix</xar:mlstring>:</strong>&nbsp;&nbsp;
                <xar:if condition="$matrix">
                    <input type="checkbox" name="matrix" value="true" checked="checked" onchange="javascript:this.form.submit()"/>
                <xar:else />
                    <input type="checkbox" name="matrix" value="true" onchange="javascript:this.form.submit()"/>
                </xar:if>
                <br />
                <xar:mlstring>
                    Selecting Matrix will allow you to organize your navigation in a matrix style where you have
                    one primary category and a secondary category. If you think of your categories as
                    being represented by a graph, the primary category would be the on the X plane, and
                    the secondary category group would be on the Y plane. Default is SIMPLE mode with only the
                    primary category available.<br />
                </xar:mlstring>
            </p>
            <p>
                <strong><xar:mlstring>Primary Category</xar:mlstring>:</strong>&nbsp;&nbsp;
                #$primarySelect#
                <br />
                <xar:mlstring>
                    This is the primary tree of categories. In a Matrix setup, it used as the X coordinate in and,
                    in the Heirarchy setup, it is used as the whole tree.
                </xar:mlstring>
            </p>

            <xar:if condition="$matrix">
                <div style="width: 200px; float: left;">
                    <p>
                        <strong><xar:mlstring>Secondary Category</xar:mlstring>:</strong>&nbsp;&nbsp;
                    </p>
                    <p>
                        #$secondarySelect#
                    </p>
                </div>
                <xar:if condition="isset($secDefSelect) AND !empty($secDefSelect)">
                    <div style="float: left; width: 200px;">
                        <p>
                            <strong><xar:mlstring>Secondary Default Start Point</xar:mlstring>:</strong>&nbsp;&nbsp;
                        </p>
                        <p>
                            #$secDefSelect#
                        </p>
                    </div>
                </xar:if>
                <p style="clear: both;">
                    <xar:mlstring>
                        [ ENTER DESCRIPTION HERE ]
                    </xar:mlstring>
                </p>
            </xar:if>
            <p>

                <label for="resetStyles">
                    <strong><xar:mlstring>Reset stored styles?</xar:mlstring>:</strong>&nbsp;&nbsp;
                    <input id="resetStyles" type="checkbox" name="resetStyles" value="true"
                           onchange="javascript:this.form.submit()"/>
                </label>
                <br />
                <xar:mlstring>
                    Resets the stored styles internally - which be rebuilt next time a page is loaded that
                    contains any of the tags that require those.<br />
                </xar:mlstring>

            </p>
            <p>
                <input type="submit" name="update" value="#xarMl('Update Configuration')#"/>
            </p>
        </form>
        <hr />
        <xar:if condition="!empty($secondary_list) AND is_array($secondary_list)">
            <p>
                <xar:mlstring>
                    Secondary Category List:
                </xar:mlstring>
                #xarModAPIFunc('navigator', 'user', 'menu_branch_descend', array('tree' => $secondary_list,'showStartPoint' => $secondary_default_start))#
            </p>
        <xar:elseif condition="!empty($primary_list) AND !$matrix" />
            <p>
                <xar:mlstring>
                    Primary Category List:
                </xar:mlstring>
                #xarModAPIFunc('navigator', 'user', 'menu_branch_descend', array('tree' => $primary_list))#
            </p>
        </xar:if>
    </div>
</div>
