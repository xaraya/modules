<xar:comment> $Id </xar:comment>
<xar:set name="$modifybuttonlabel"><xar:mlstring>Modify</xar:mlstring></xar:set>
<div class="xar-mod-head"><span class="xar-mod-title"><xar:mlstring>Autolinks Administration</xar:mlstring></span></div>
<div class="xar-mod-body">
<xar:template type="module" file="admin-menu" />
<h2><xar:mlstring>View Autolinks</xar:mlstring></h2>
<h3><xar:mlstring>Edit Autolink</xar:mlstring> :: #xarVarPrepForDisplay($name)#</h3>
<form method="post" action="#$updateurl#" enctype="application/x-www-form-urlencoded">
    <input type="hidden" name="authid" id="authid" value="#$authid#" />
    <input type="hidden" name="lid" id="lid" value="#$lid#" />

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <xar:if condition="!empty($edittypeurl)">
        <a href="#$edittypeurl#" title="#xarML('Edit autolink type')#"><xar:mlstring>Type</xar:mlstring></a>
        <xar:else/>
        <xar:mlstring>Type</xar:mlstring>
        </xar:if>
        <xar:if condition="!empty($moveurl)">
        [<a href="#$moveurl#" title="#xarML('Move autolink type to a new type')#"><xar:mlstring>Move</xar:mlstring></a>]
        </xar:if>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        #xarVarPrepForDisplay($type_name)#
        <xar:if condition="!empty($type_desc)">
        <br/><span style="font-style: italic;">#xarVarPrepForDisplay($type_desc)#</span>
        </xar:if>
    </div>
    <br style="clear: both; height=0;"/>

    <h4 style="clear: both;"><xar:mlstring>Security</xar:mlstring></h4>

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="name" class="help" title="#xarML('A unique name for the Autolink')#">
            <xar:mlstring>Name</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <input type="text" name="name" id="name" value="#xarVarPrepForDisplay($name)#" size="20" maxlength="30"/>
    </div>
    <br style="clear: both; height=0;"/>

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="enabled" class="help" title="#xarML('Flag determines whether the Autolink is active')#">
            <xar:mlstring>Enabled</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <xar:if condition="$enabled">
            <input type="checkbox" name="enabled" id="enabled" value="1" checked="checked"/>
        <xar:else />
            <input type="checkbox" name="enabled" id="enabled" value="1"/>
        </xar:if>
    </div>
    <br style="clear: both; height=0;"/>

    <h4 style="clear: both;"><xar:mlstring>Matching</xar:mlstring></h4>


    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="keyword" class="help" title="#xarML('The word or regular expression that is replaced for this Autolink')#">
            <xar:mlstring>Matching Key</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <input type="text" name="keyword" id="keyword" value="#xarVarPrepForDisplay($keyword)#" size="32" maxlength="100"/>
    </div>
    <br style="clear: both; height=0;"/>

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="match_re" class="help" title="#xarML('Flag indicates whether the Matching Key should be processed as a regular expression')#">
            <xar:mlstring>Match As Regular Expression</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <xar:if condition="$match_re">
            <input type="checkbox" name="match_re" id="match_re" value="1" checked="checked" />
        <xar:else />
            <input type="checkbox" name="match_re" id="match_re" value="1" />
        </xar:if>
    </div>
    <br style="clear: both; height=0;"/>

    <h4 style="clear: both;"><xar:mlstring>Replacing</xar:mlstring></h4>

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="title" class="help" title="#xarML('The title (usually a tooltip) for the resulting Autolink transformation')#">
            <xar:mlstring>Title</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <input type="text" name="title" id="title" value="#xarVarPrepForDisplay($title)#" size="32" maxlength="100"/>
    </div>
    <br style="clear: both; height=0;"/>

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="url" class="help" title="#xarML('The URL for the Autolink')#">
            <xar:mlstring>URL</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <input type="text" name="url" id="url" value="#xarVarPrepForDisplay($url)#" size="40" maxlength="200"/>
    </div>
    <br style="clear: both; height=0;"/>

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="comment" class="help" title="#xarML('A comment or description to help you manage the Autolinks generally not used in the Autolink transform')#">
            <xar:mlstring>Comment</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <textarea name="comment" id="comment" cols="32" rows="5" >#xarVarPrepForDisplay($comment)#</textarea>
    </div>
    <br style="clear: both; height=0;"/>

    <xar:comment> Display the DD hooks </xar:comment>
    <xar:if condition="!empty($hooks)">
        <xar:foreach in="$hooks" key="$hookmodule">
            <xar:if condition="$hookmodule eq 'dynamicdata'">#$hooks[$hookmodule]#</xar:if>
        </xar:foreach>
    </xar:if>
    <br style="clear: both;"/>

    <h4 style="clear: both;"><xar:mlstring>Other</xar:mlstring></h4>

    <div style="text-align: left; vertical-align: text-top; clear: left; float: left; width: 12em;">
        <label for="sample" class="help" title="#xarML('Some sample text that can be used to test the Autolink - the examples are displayed in the main Autolink list')#">
            <xar:mlstring>Sample text to test link</xar:mlstring>
        </label>
    </div>
    <div style="text-align: left; vertical-align: text-top; clear: right; float: left; left: 14em;">
        <input type="text" name="sample" id="sample" value="#xarVarPrepForDisplay($sample)#" size="40" maxlength="200"/>
    </div>
    <br style="clear: both; height=0;"/>

    <xar:comment> Display the non-DD hooks </xar:comment>
    <xar:if condition="!empty($hooks)">
        <xar:foreach in="$hooks" key="$hookmodule">
            <xar:if condition="$hookmodule ne 'dynamicdata'">#$hooks[$hookmodule]#</xar:if>
        </xar:foreach>
    </xar:if>
    <input type="submit" value="#$modifybuttonlabel#"  tabindex="5" />
</form>
</div>

